# VIM常用操作

* [Nomal模式操作](#op_normal)
	* [基础移动](#op_normal_base_mv)
	* [词间移动](#op_normal_word_mv)
	* [行间移动](#op_normal_line_mv)
	* [段落移动](#op_normal_p_mv)
		* [快速移动](#op_normal_p_sp_mv)
	* [删除](#op_normal_delete)
	* [搜索](#op_normal_search)
	* [复制粘贴](#op_normal_cp)
	* [替换](#op_normal_replace)
	* [缩排](#op_normal_indent)
	* [折叠](#op_normal_fold)
	* [格式化](#op_normal_format)
	* [标签、Buffer及窗口](#op_normal_tab_buffer_window)
		* [标签页](#op_normal_tabs)
		* [窗口](#op_normal_windows)
		* [Buffer](#op_normal_buffer)
* [Insert模式操作](#op_insert)
	* [从normal模式进入insert模式](#op_insert_nortoin)
* [Visual模式操作](#op_visual)
	* [词选择](#op_visual_sel_word)
* [小技巧](#tricks)
* [基础配置](#config_basic)




## <span id="op_normal">Normal模式常用操作</span>

>**在VIM的Normal模式下，所有的键就是功能键**

### <span id="op_normal_base_mv">基础移动</span>

**h**:	向左移动一个字符位置

**l**:	向右移动一个字符位置

**j**:	向下移动一个字符位置

**k**:	向上移动一个字符位置

**^**	跳到行首(忽略行首缩进或空格)

**$**:	跳到行尾



### <span id="op_normal_word_mv">词间移动</span>

#### 	基础词间移动

**w**:	向前移动到下一个词，光标在**词首**

**W**:	向前移动到下一个词，忽略标点符号，光标在词首

**b**:	向后移动到上一个词

**B**:	向后移动到上一个词，忽略标点符号

**e**:	向前移动到下一个词，光标在**词尾**

**E**:	向后移动到上一个词，忽略标点符号，光标在词尾

##### 	带查找型的词间移动

**f字符**:	向下查找包含字符并跳转到此字符上

**F字符**:	向上查找包含的字符并跳转至此字符上

**数字w**:	向前移动到n个词(n为w之前输入的数字)

**数字b**:	向后移动到n个词(n为b之前输入的数字)



### <span id="op_normal_line_mv">行间移动</span>

**gg**:	跳到文档首行

**G**:	跳到文档最后一行

**数字j**:	向下移动n行(n为j之前输入的数字)

**数字k**:	向上移动n行(n为k之前输入的数字)

**数字G**:	跳到指定行(数字为绝对行号)


### <span id="op_normal_p_mv">段落移动</span>

**}**:	跳到下一个段落

**{**:	跳到上一个段落

**ctrl+f**:	向下翻页

**ctrl+b**:	向上翻页

#### <span id="op_normal_p_sp_mv">快速跳转</span>

**%**:	在（）[] {} 间跳转

### <span id="op_normal_delete">删除</span>

**dd**:		删除光标所在当前行

**ndd**:	删除光标所在行始往下n行(n为要删除行的数量,包括光标所在行)

**dG**:		删除光标所在行始至文档末行(包括光标所在行)

**dgg**:	删除光标所在行始至文档顶行(包括光标所在行)

**dw**:		删除从光标到词末（包括词末的空格）

**daw**:	删除(剪切)一个词(不管光标是否在词首,会将词后空格也删除。a--around)

**diw**:	删除(剪切)一个词(同上，但**不包括**词后的**空格**)

**db**:		  从光标向左删除直至词首

**das**:		删除(剪切)一句,包括句后的空格也一并删除(以英文.及空格为断句条件，如不满足断句条件将继续往下直至行末，存在误删机率)

**dis**:		删除(剪切)一句(断句条件同上，只是不会将句后的空格删除)

**de**:		删除从光标所在处后一个词所有内容，但不包括词后的空格

**d{**:		 向上删除一个代码块

**d}**:		 向下删除一个代码块

**D**:		   删除光标字符始至行尾所有字符(包括光标所在字符也会删除)

**x**:		   删除一个字符仍保持normal模式

**数字x**:	删除包括光标在字符在内的n个字符(n为x前的数字)，仍保持normal模式

**X**:			退格，即删除光标左边的字符，仍操持normal模式

**数字X**:	向左删除包括光标所在的字符在内的n个字符(n为X前的数字)，仍保持normal模式


##### tips: 

​	选取内容后按**d**和**x**，效果都是在当前文档是将所选内容移除，移除的内容通过":reg"命令可以看到是被“移入”了寄存器中，所以在进行**d**或**x**操作，如果再进行**p**(粘贴)，就能从寄存器中取出刚“移除”的内容--这时寄存器就相当于"垃圾筒"，进行"移除"操作后再"粘贴"，就相当于从"垃圾筒"中再把刚丢的"垃圾"再"捡"回来，这也就相当于“剪切”！--道理与linux中使用"rm"命令对文件进行“重命名”相似。



### <span id="op_normal_search">搜索</span>

**/**:	从上往下搜索(按**n**依次向下跳转搜索结果,**N**依次向上跳转搜索结果)

**?**:	从下往上搜索(按**n**依次向上跳转搜索结果，**N**依次向下跳转搜索结果)

> *****:	向下搜索光标所在的单词(搜索结果跳转与**/**一致) 可以按反复按*****跳转，也可以像**/**一样使用**n**和**N**
>
> **#**:	向上搜索光标所在单词(搜索结果跳转与**?**一致) 可以按反复按**#**跳转，也可以像**/**一样使用**n**和**N**
>
> 这两种搜索，是**/**与**?**的快捷搜索方式，适合立即搜索光标所在单词




### <span id="op_normal_cp">复制粘贴</span>

**yy/Y**:		 复制光标所在行

**nyy**:		复制光标所在行至n行(n复制的行数，数量包括光标所在行)

**y$**:		 复制从光标位置至行尾(包括光标所在字符)

**y0/y^**:	复制从到光标位置至行首(不包括光标所在字符)

**yG**:		 复制从光标位置至文档最末

**ygg**:		复制从光标所在行至文档最顶部所有行

**yw**:		 复制从光标位置起至一个词词末内容

**yaw**:		复制一个词(不用管光标的位置) 这比上面那个好用(**包括**词后的**空格**也一并复制)

**yiw**:		复制一个词(不用管光标的位置)**不包括**词后的**空格**

**nyaw**:	 执行n次**yaw**操作,即复制n个词

**ynw**:	   复制n个词(n为数字,标点符号也算一个词),此命令是从光标开始复制	

**yl**:		复制一个字符

**ynl**:	复制光标开始算向右n个字符(n数量包括光标所在的字符)

**ynh**:	复制光标开始算向左n个字符(n数量不包括光标所在的字符)

**ye**:		复制当前光标所在位置至所在单词最后一个字符

**yas**:	复制一句(不用管光标位置及换行，根据标点符号**.**及空格断句，如果.后没有空格或使用中文句号则断句条件不成立),**包括**句后的**空格**

**nyas**:		执行n次yas操作，即复制n个句子

**yis**:			复制一句(断句条件同上)，**不包括**句后的**空格**


**"ny**:		将选择好的内容存到寄存器n中(n为寄存器名称,a~z,如果n为大写字母则为向相应的寄存器追加内容)

**"np**:		从n寄存器中取出相应的内容进行粘贴(n为寄存器名称,a~z)	


**p**:		将内容粘贴到光标之后

**P**:		将内容粘贴到光标之前


**nx**:	剪切光标向右n个字符(n为数字，包括光标所在字符)

**nX**:	剪切光标向左n个字符(n为数字，不包括光标所在字符)



**:reg**:	查看各个寄存器


##### **tips**:  

一般不论复制还是剪切向左选取字符都不包括光标所在字符，而向右均包括光标所在字符



### <span id="op_normal_replace">替换</span>

**r**:	替换，将光标所在字符替换成r之后输入的字符

**ctrl+a**:  跳转到第一个包含数字的词上，光标停留在数字上，并将数字自增1

**数字 ctrl+a**:  与上面命令类似，不过指定了增长的数字

** {visual} g ctrl+a**: 多行递进增长

**ctrl+x**:  跳转到第一个包含数字的词上，光标停留在数字上，并将数字自减1

**数字 ctrl+x**:  与上面命令类似,不过指定了减少的数字

** {visual} g ctrl+x**: 多行递进减少



### <span id="op_normal_indent">缩排</span>

**>>**:		非选中状态光标所在行向右缩进(光标可在行中任意位置)

**n>>**:	  非选中状态包括光标所在行在内的n行向右缩进(n为行数)

**<<**:		非选中状态光标在行向左缩进(光标在行中任意位置)

**n<<**:	  非选中状态包括光标所在行在内的n行向左缩进(n为行数)

**>**:			选中状态，**>**能让选中内容向右缩进

**<**:			选中状态，**<**能让选中内容向左缩进


### <span id="op_normal_fold">折叠</span>

激活折叠功能:

```shellop_insert_nortoin
:set foldenable 
:set foldmethod = indent
```

停用折叠功能:

```shell
:set nofoldenable
```

**zf**:		将选中的代码块折叠

**zd**:		展开并删除折叠

**zo**:		展开折叠(折叠还在)

**l**:		  效果同上

**zr**:		递归展开内层折叠

**zR**:		打开所有折叠

**zc**:		 折叠还在的情况下重新关闭折叠,与上面的**zo**操作配合使用，方便将折叠进行关闭展开

**zm**:	   递归关闭内层折叠

**zM**:	  关闭所有折叠


**zfip**:	  折叠一个代码块(不用先对代码块选取)

**zj**:		跳转到下一个折叠

**zk**:		跳转到上一个折叠



**:mkview**:	保存折叠状态

**:loadview**:	载入折叠状态


### <span id="op_normal_format">格式化</span>

**[Ctrl]=**:		选中要格式化的内容，按**=**/Ctrl+=

**ggvG** **=**:		全文格式化 gg是跳转到页首行，v是进入[可视模式](#op_visual),**G**是表示从进入可视模式处一直选择到页底最后一行,**=**是vim中格式化快捷键

**gg=G**: 		  全文格式化，为上面命令的简略形式

**G=gg**:			全文格式化，跟上面命令一样，不过当前光标在页底，从页底向上选直选到页首行，然后格式化

**==**: 			    格式化当前行



### <span id="op_normal_tab_buffer_window">标签页、Buffer及窗口</span>



#### <span id="op_normal_tabs">标签页</span>

---

**:tabe**:	  新建一个标签页

**gt**:			向右切换标签页

**gT**:			向左切换标签页

**:tabn**:		切换下一个标签页

**:tabp**:		切换上一个标签页

**:tabc**:		关闭光标焦点为所在的标签页

**:tabo**:		关闭除了当前标签页其他标签页



#### <span id="op_normal_windows">窗口</span>

----

###### 分割两窗口并将文档同时加载到两窗口中

**:sp**:			将当前窗口分割成两水平窗口(文档在两窗口显示的内容完全一样)

**:vsp**:		 将当前窗口分割成两垂直窗口(文档在两窗口显示的内容完全一样)


###### 新建窗口

**:new**:		在光标焦点所在的窗口再分割出一个水平窗口

**:vne**:		在光标焦点所在的窗口再分割出一个垂直窗口



###### 窗口切换	

**ctrl+w+h/j/k/l**:	使用ctrl+w再加h/j/k/l，可在窗口间切换

**ctrl+w+w**:	不定向窗口切换


###### 窗口关闭

**:close**:		关闭当前窗口

**:qall**:			关闭所有窗口

**:only**:		  只保留当前窗口，其余关闭


###### 调整窗口大小

**:res/:resize**:	没有给出行高将当前窗口的行高设为最高(完全命令: resize)

**:res n**:	 		设置当前窗口n行高(完全命令 :resize n)

**ctrl+w +**:		每按一次将加一行行高

**ctrl+w >**:		增加窗口一个列宽

**ctrl+w <**:		减少窗口一个列宽	



###### 多文档加载

**开多个文档，并以水平窗口加载各文档**

```shell
vim -o 文档1 文档2 ....
```



**开启多个文档，并以垂直窗口加载各文档**

```shell
vim -O 文档1 文档2 ....
```



**开启多个文档，并以多标签页方式加载各文档**

```shell
vim -p 文档1 文档2 ....
```



#### <span id="op_normal_buffer">Buffer</span>

----



**:ls**:		buffer列表

**:b编号**:		切换buffer(buffer编号，可通过**:ls**命令查看)

**:bn**:			切换到下一个buffer

**:bp**:			切换到上一个buffer(或使用ctrl+^快捷键)

**:bf**:			切换到第一个buffer

**:bl**:			 切换到最后一个buffer

**:b 文件名**:	根据文件切换

**:tab ba**:	 将所有buffer都以标签页显示

**:bd**:			删除当前buffer(相当于关闭)



## <spana id="op_insert">Insert模式常用操作</span>

### <span id="op_insert_nortoin">从normal模式进入insert模式的方式</span>

#### 常用方式

**i**:	当前光标所在字符**前**插入

**I**:	当前光标所在行的行首字符**前**插入

**a**:	当前到光标所在字符**后**插入

**A**:	当前光标所在行的行尾字符**后**插入

**o**:	当前光标所在行之**下**新建一行

**O**:	当前光标所在行之**上**新建一行



#### 	删除、替换或剪切方式

**cw**:	 	删除从光标到词末（包括词末的空格）,并且进入insert模式(相当于**dw**后再按了下**i**。**c**语义是**"change"**)

**C**:			从光标处一直删到**行末**，并进入insert模式

**caw**:		删除光标所在那个词，并进入insert模式(不用管光标是否在词首，空格或标点为分词条件，标点也算一个词)，包括词后的空格、引号等

**ciw**:		删除光标所在那个词，并进入insert模式(分词条件与上同)，但不包括词后的空格、引号等

**cit**:		 删除光标所在tag中的内容,并进入insert模式

**cat**:		删除光标所在tag，连tag也一并删除，并进入insert模式

**cas**:		删除一句，并进入insert模式(以英文.及空格断句，如果不符合这个条件就继续往后找断句直到行末，存在误删除的机率),包括句后的空格也一并删除

**cis**:			 删除一句，并进入insert模式(断句条件与上同)，不包括句后的空格

**c{**:		 	  向上删除一个代码块，并进入insert模式

**c}**:		 	   向下删除内一个代码块，并进入insert模式

**s**:				  删除光标所在的字符并进入insert模式

**数字s**:		  删除包括光标所在字符在内至右边的n个字符(n为s前的数字),并进入insert模式

**S**:				  删除光标所在行并进入insert模式(相当于"dd"+"i")

**数字S**:		  删除包括光标所在行在内的向下n行(n为S前的数字),并进入insert模式

**ctrl+w**:		删除光标前一个词

**ctrl+u**:		删除光标所在位置前行内所有的内容

​		

#### insert模式中常用操作

**ctrl+h**:		删除前一个字符

**ctrl+w**:		删除前一个单词

**ctrl+u**:		删除至行首



## <span id="op_visual">Visual模式</span>常用操作

**v**:	字符-可视模式

**V**:	行-可视模式

**ctrl+v**:	块-可视模式


### <span id="op_visual_sel_word">词选择</span>

**vw**: 	选择光标所在位置至词尾空格(如果光标在词首那就相当于选了这个词)

**viw**:	选择光标所在词(不用管光标是否在词首，也不会选择词后的空格)

**vaw**:	选择光标所在词及附近范围(不用管光标是否在词首，但会将词外如空格也会被选择上。a--around)

**vit**:	  在html、xml中，选取某tag中的内容

**vat**:	 在html、xml中，选取包括tag在内的内容

**v{**:		向上选取一个代码块

**v}**:		向下选取一个代码块

**vap**:	  选取一个段落包括段落后的空行

**vip**:		选取一个段落不包括段落后空行


##### 某范围内的选取

>包括normal模式，visual模式中，**i**，指的是inner，而**a**指的是around。

**vi**+双引号、单引号、括号等，可以选择这些符号中的内容

>**vit** 其实就是这种选取模式的特例，因为vi<是选取<>符号本身中的内容，
>
>如<f>foo<f> 使用**vi<**，选取的是**f**，而**vit**选取的是**foo**

**vi(**:		选取括号**()**里的内容

**v数字i**+引号/括号等: 选取多层内容

**va**+双引号、单引号、括号等，可以连这些符号也包括在内一起选取

>同样的，也有**vat**

   





### <span id="tricks">小技巧</span>

大小写转换

> 	1. **~**
>  	2. 使用**U** 和**u**来进行大小写转换(如果是将整行转换可以使**gU**和**gu**)



**.**:	重复做最后一次连续动作

**J**:	将光标所在行的下一行向上移动(即将下一行与当前行缩排成一行) 也可以将选中的行一并缩排成一行




### 命令行常用命令

**:w**:		保存

**:q**:		退出


**:pwd**:	显示当前工作目录

**:ver**:	  显示版本信息

**:! 指令**:	临时使用terminal指令(相当于**ctrl+z**后执行一条指令再**fg**回到vim中)

**:r !指令**: 	将指令执行结果粘贴到vim中




## 配置

### <span id="config_basic">基础配置</span>

>```vim
>
>" 开启真彩色
>set termguicolors
>
>
>set nocompatible
>set number
>" 退格键设置
>set backspace=indent,start
>
>
>" 关闭各种自动生成文件
>set noundofile
>set nobackup
>set noswapfile
>
>
>" 高亮搜索
>set hlsearch
>set incsearch
>
>" 显示状态栏
>set laststatu=2
>set ruler
>
>" 与底部保持固定间距
>set scrolloff=5
>
>" 缩进
>set shiftwidth=4
>set tabstop=4
>set softtabstop=4
>" 不要将tab展开成空格
>set noexpandtab
>
>" 字符编码
>set encoding=utf-8
>set langmenu=zh_CN.UTF-8
>set fileencodings=utf-8,gbk,gb18030,gb2312,ucs-bom,cp936,big5,euc-jp,euc-kr
>
>" 语法高亮及文件类型
>syntax on
>filetype on
>filetype plugin on
>
>" 命令行提示
>set wildmenu
>
>
>```
>
>



### 快捷键映射


| 命令 | Normal Mode | Visual Mode | Insert Mode |
| :--: | :---------: | :---------: | :---------: |
| map  |      *      |      *      |             |
| nmap |      *      |             |             |
| vmap |             |      *      |             |
| imap |             |             |      *      |



禁用某些键示例:

```vim
map 要禁的键 <Nop>
```

禁用递归映射:

```vim
noremap 要映射的键 映射键
" 其他模式可用inoremap、nnoremap和vnoremap
```



### try...catch

```vim
try
	语句
catch
	语句
endtry


```





## 常用插件使用

[vim插件相关介绍](./vim_plugin.md)



